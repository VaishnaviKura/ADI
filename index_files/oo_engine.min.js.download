!function(e,o){e.OOo=o()}(this,function(){window.OOo={__detectBrowser:function(e){var o="[object Opera]"===Object.prototype.toString.call(window.opera),t=e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1,n={IE:!!t,MSEdge:e.indexOf("Edge/")>-1,Opera:o,WebKit:e.indexOf("AppleWebKit/")>-1,Chrome:e.indexOf("Chrome")>-1&&-1===e.indexOf("Edge/"),Gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),MobileSafari:/Apple.*Mobile.*Safari/.test(e),iOs:e.indexOf("iPad")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPod")>-1,iOS67:e.search(/OS 6(.*)|7(.*) like Mac OS/i)>-1,BlackBerry:e.indexOf("BlackBerry")>-1,Fennec:e.indexOf("Fennec")>-1,IEMobile:e.indexOf("IEMobile")>-1,WindowsPhone:e.toLowerCase().indexOf("windows phone")>-1,WindowsTablet:e.toLowerCase().indexOf("windows nt")>-1&&e.toLowerCase().indexOf("touch")>-1,OperaMobile:e.search(/Opera (?:Mobi|Mini)/)>-1,Kindle:e.search(/[ ](Kindle|Silk)/)>-1,isChromeIOS:/crios/i.test(e),ua:e,Android:/Android/.test(e),facebookWebview:/FBAV/.test(e),googleWebview:/GSA/.test(e),AndroidChromiumWebview:/Chrome\/.* Mobile/.test(e),iOsWebview:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/.test(e)};return n.isMobile=n.MobileSafari||n.BlackBerry||n.Fennec||n.IEMobile||n.OperaMobile||n.Kindle||n.iOs||n.Android||n.WindowsPhone||n.WindowsTablet||n.AndroidChromiumWebview||n.iOsWebview||n.facebookWebview||n.googleWebview,n.isMobileNonIOS=n.isMobile&&!n.iOs,n}},OOo.Browser=OOo.__detectBrowser(navigator.userAgent),OOo.Cache={},OOo.instanceCount=0,OOo.K=function(){};var e=e||OOo;return function(){function e(e){return document.getElementById(e)}function o(e,o){var t;for(t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function t(e,o,t,n){e.addEventListener?e.addEventListener(o,t,n):e.attachEvent&&e.attachEvent("on"+o,t)}function n(e,o,t,n){e.removeEventListener?e.removeEventListener(o,t,n):e.detachEvent&&e.detachEvent("on"+o,t)}function i(e){var o,t=[];for(o in e)e.hasOwnProperty(o)&&t.push(o+"="+(encodeURIComponent(e[o])||""));return t.join("&")}function a(e){var o=i(e.metrics),t=e.tealeafId+"|"+e.clickTalePID+"/"+e.clickTaleUID+"/"+e.clickTaleSID;return o+="&custom_var="+OOo.createLegacyVars(e.legacyVariables,t),"OnPage"===e.metrics.type&&(o+="|iframe"),e.asm&&(o+="&asm=2"),o+="&_rev=2",e.customVariables&&(o+="&customVars="+encodeURIComponent(OOo.serialize(e.customVariables))),o}function r(e,o){var t=document,n=t.createElement("form"),i=t.createElement("input"),r=e.referrerRewrite;return e.metrics.referer=location.href,r&&(e.metrics.referer=OOo.referrerRewrite(r)),n.style.display="none",n.method="post",n.target=o||"OnlineOpinion",n.action=e.onPageCard?"https://secure.opinionlab.com/ccc01/comment_card_json_4_0_b.asp?r="+location.href:"https://secure.opinionlab.com/ccc01/comment_card_d.asp",e.commentCardUrl&&(n.action=e.commentCardUrl,e.onPageCard&&(n.action+="?r="+location.href)),i.name="params",i.value=a(e),n.appendChild(i),t.body.appendChild(n),n}function s(){return{width:screen.width,height:screen.height,referer:location.href,prev:document.referrer,time1:(new Date).getTime(),time2:null,currentURL:location.href,ocodeVersion:"5.9.9"}}function p(e){var o="";if(e&&e.search("://")>-1)for(var t=e.split("/"),n=3;n<t.length;n++)o+="/",o+=t[n];return o}function c(e,o){return e=e||{},"string"==typeof e?o+"|"+e:e.override?e.vars:o+(e.vars?"|"+e.vars:"")}function d(e,o){return o||(o=location),"string"==typeof e?e:e.searchPattern?o.href.replace(e.searchPattern,e.replacePattern):e.replacePattern}function l(e,o){var t=e||window.event,n=OOo.$("oo_waypoint_content"),i=OOo.$("oo_waypoint_company_logo"),a=(OOo.$("oo_waypoint_close_prompt"),t.target);if(t.srcElement&&!t.target&&(a=t.srcElement),t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,a!==n&&!n.contains(a)&&a!==i&&!i.contains(a)||"waypoint_icon"===a.className||"waypoint_icon last"===a.className){var r=OOo.$("oo_waypoint_container"),s=r.parentNode;s.removeChild(r)}o&&o.focus()}function O(){var e=this.options,o="<div id='oo_waypoint_prompt' role='dialogue' aria-describedby='oo_waypoint_message'><div id='oo_waypoint_company_logo'></div><div id='oo_waypoint_content'><p id='oo_waypoint_message'>Select a category</p><p id='waypoint_icons'></p><p id='ol_waypoint_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_waypoint_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialogue</div><span aria-hidden='true'>&#10006;</span></a></div><!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_waypoint_prompt #oo_waypoint_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]-->";"undefined"!=typeof e.wpmarkup&&(o=e.wpmarkup);var t=OOo.$("oo_waypoint_prompt");if(t){var n=OOo.$("oo_waypoint_container");return void this.showWaypoint(n)}this.showWaypoint(o)}function h(e){var o,t,n,i,a,r=document,s=0,p="string"==typeof e?r.createElement("div"):e,c=r.createElement("div"),d=this.options,l=d.categories,O=r.activeElement;c.id="oo_waypoint_overlay",p.id="oo_waypoint_container",p.style.visibility="hidden","string"==typeof e&&(p.innerHTML=e,r.body.appendChild(p)),p.appendChild(c),d.companyLogo&&d.companySlogan&&(o=new Image,o.src=d.companyLogo,o.alt=d.companySlogan,OOo.$("oo_waypoint_company_logo").appendChild(o),OOo.$("oo_waypoint_prompt").setAttribute("aria-label",d.companySlogan)),t=new Image,t.src=d.pathToAssets+"oo_opinionlab_logo.png",t.alt="powered by OpinionLab",OOo.$("ol_waypoint_brand_logo").children[0].appendChild(t),i=OOo.$("oo_waypoint_close_prompt");for(var h in l)if(l.hasOwnProperty(h)){var u=document.createElement("a"),m=d.categories[h].icon,w=d.categories[h].buttonText;u.className="waypoint_icon",u.href="#",u.innerHTML=w+'<span class="screen_reader">This will open a new window</span>',m&&r.addEventListener&&(u.style.backgroundImage="url("+d.pathToAssets+m+")"),"string"==typeof d.categories[h].oCode?(OOo.addEventListener(u,"click",function(e){return function(o){var t=o||window.event;window.open(d.categories[e].oCode,"_0","scrollbars=yes,location=yes,menubar=yes,resizable=yes"),OOo.hideWaypoint(t,O)}}(h),!1),u.onkeydown=function(e){return function(o){var t=o||window.event;13===t.keyCode&&(window.open(d.categories[e].oCode,"_0","scrollbars=yes,location=yes,menubar=yes,resizable=yes"),OOo.hideWaypoint(t,O))}}(h)):(OOo.addEventListener(u,"click",function(e){return function(o){var t=o||window.event;OOo.Waypoint[e].show(t),OOo.hideWaypoint(t,O)}}(h),!1),u.onkeydown=function(e){return function(o){var t=o||window.event;13===t.keyCode&&(OOo.Waypoint[e].show(t),OOo.hideWaypoint(t,O))}}(h)),s++,OOo.$("waypoint_icons").appendChild(u)}OOo.addEventListener(p,"click",function(e){var o=e||window.event;OOo.hideWaypoint(o,O)},!1),n=OOo.$("waypoint_icons").children,a=n[0],a.onkeydown=function(e){var o=e||window.event;return 9===o.keyCode&&o.shiftKey?(i.focus(),!1):void 0},i.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hideWaypoint(o,O)},i.onkeydown=function(e){var o=e||window.event;return 9!==o.keyCode||o.shiftKey?void 0:(a.focus(),!1)},n[s-1].className="waypoint_icon last",p.style.visibility="visible",p.style.display="block",c.className="no_loading",d.linkFocus===!0&&a.focus()}function u(e,o){var t=e||window.event;t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,OOo.$("oo_container").style.display="none",o&&o.focus()}function m(){var e="<div id='oo_invitation_prompt' role='dialog' aria-describedby='oo_invite_message'><div id='oo_invitation_company_logo'></div><div id='oo_invite_content'><p id='oo_invite_message'>After your visit, would you be willing to provide some quick feedback?<br /><br />(It will only take a minute)</p><p class='prompt_button'><a href='#' id='oo_launch_prompt'>Yes<span class='screen_reader'>This will open a new window</span></a></p><p class='prompt_button'><a href='#' id='oo_no_thanks'>No Thanks</a></p><p id='ol_invitation_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialog</div><span aria-hidden='true'>&#10006;</span></a></div><!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_invitation_prompt #oo_invite_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]-->",o=this.options;e="undefined"!=typeof o.inviteMarkup?o.inviteMarkup:o.events.prompt.promptMarkup;var t=OOo.$("oo_invitation_prompt");if(t){var n=OOo.$("oo_container");return void this.showPrompt(n)}this.showPrompt(e)}function w(e,o){var t,n,i,a,r,s,p=document,c="string"==typeof e?p.createElement("div"):e,d=p.createElement("div"),l=this.options,O=p.activeElement;d.id="oo_invitation_overlay",c.id="oo_container",c.style.visibility="hidden","string"==typeof e&&(c.innerHTML=e,p.body.appendChild(c)),c.appendChild(d),i=OOo.$("oo_launch_prompt"),a=OOo.$("oo_no_thanks"),r=OOo.$("oo_close_prompt"),s=OOo.$("oo_invitation_company_logo"),l.companyLogo&&l.companySlogan?(t=new Image,t.src=l.companyLogo,t.alt=l.companySlogan,s.appendChild(t),OOo.$("oo_invitation_prompt").setAttribute("aria-label",l.companySlogan)):l.events.prompt.companyLogo&&l.events.prompt.companySlogan&&(t=new Image,t.src=l.events.prompt.companyLogo,t.alt=l.events.prompt.companySlogan,s.appendChild(t),OOo.$("oo_invitation_prompt").setAttribute("aria-label",l.events.prompt.companySlogan)),n=new Image,n.src=l.pathToAssets+"oo_opinionlab_logo.png",n.alt="powered by OpinionLab",OOo.$("ol_invitation_brand_logo").children[0].appendChild(n),l.callBacks&&("function"==typeof l.callBacks.prompt&&l.callBacks.prompt(),"function"==typeof l.callBacks.yesClick&&OOo.addEventListener(i,"click",function(){l.callBacks.yesClick()},!1),"function"==typeof l.callBacks.noClick&&OOo.addEventListener(a,"click",function(){l.callBacks.noClick()},!1),"function"==typeof l.callBacks.closeClick&&OOo.addEventListener(r,"click",function(){l.callBacks.closeClick()},!1)),OOo.addEventListener(i,"click",o.bind(this),!1),OOo.addEventListener(a,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,O)},!1),OOo.addEventListener(r,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,O)},!1),i.onkeyup=function(e){var t=e||window.event;13===t.keyCode&&o.bind(this)}.bind(this),i.onkeydown=function(e){var o=e||window.event;return 9===o.keyCode&&o.shiftKey?(r.focus(),!1):void 0},a.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,O)},r.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,O)},r.onkeydown=function(e){var o=e||window.event;return 9!==o.keyCode||o.shiftKey?void 0:(i.focus(),!1)},c.style.visibility="visible",c.style.display="block",d.className="no_loading",O.blur(),i.focus()}function f(){var e="<div id='oo_entry_prompt' role='dialog' aria-describedby='oo_entry_message'><div id='oo_entry_company_logo'></div><div id='oo_entry_content'><p id='oo_entry_message'>After your visit, would you be willing to provide some quick feedback?<br /><br />(It will only take a minute)</p><p class='entry_prompt_button'><a href='#' id='oo_launch_entry_prompt'>Yes<span class='screen_reader'>This will open a new window</span></a></p><p class='entry_prompt_button'><a href='#' id='oo_entry_no_thanks'>No Thanks</a></p><p id='ol_entry_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_entry_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialog</div><span aria-hidden='true'>&#10006;</span></a></div><!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_entry_prompt #oo_entry_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]-->",o=this.options;e=o.events.prompt.promptMarkup;var t=OOo.$("oo_entry_prompt");if(t){var n=OOo.$("oo_container");return void this.showEntryPrompt(n)}this.showEntryPrompt(e)}function y(e,o){var t,n,i,a,r,s,p=document,c="string"==typeof e?p.createElement("div"):e,d=p.createElement("div"),l=this.options,O=p.activeElement;d.id="oo_entry_overlay",c.id="oo_container",c.style.visibility="hidden","string"==typeof e&&(c.innerHTML=e,p.body.appendChild(c)),c.appendChild(d),i=OOo.$("oo_launch_entry_prompt"),a=OOo.$("oo_entry_no_thanks"),r=OOo.$("oo_entry_close_prompt"),s=OOo.$("oo_entry_company_logo"),l.companyLogo&&l.companySlogan?(t=new Image,t.src=l.companyLogo,t.alt=l.companySlogan,s.appendChild(t),OOo.$("oo_entry_prompt").setAttribute("aria-label",l.companySlogan)):l.events.prompt.companyLogo&&l.events.prompt.companySlogan&&(t=new Image,t.src=l.events.prompt.companyLogo,t.alt=l.events.prompt.companySlogan,s.appendChild(t),OOo.$("oo_entry_prompt").setAttribute("aria-label",l.events.prompt.companySlogan)),n=new Image,n.src=l.pathToAssets+"oo_opinionlab_logo.png",n.alt="powered by OpinionLab",OOo.$("ol_entry_brand_logo").children[0].appendChild(n),OOo.addEventListener(i,"click",o.bind(this),!1),OOo.addEventListener(a,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,O)},!1),OOo.addEventListener(r,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,O)},!1),i.onkeyup=function(e){var t=e||window.event;13===t.keyCode&&o.bind(this)}.bind(this),i.onkeydown=function(e){var o=e||window.event;return 9===o.keyCode&&o.shiftKey?(r.focus(),!1):void 0},a.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,O)},r.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,O)},r.onkeydown=function(e){var o=e||window.event;return 9!==o.keyCode||o.shiftKey?void 0:(i.focus(),!1)},c.style.visibility="visible",c.style.display="block",d.className="no_loading",O.blur(),i.focus()}var v=function(){if("Microsoft Internet Explorer"===navigator.appName&&-1!==navigator.userAgent.search("MSIE 6"))return!0;var e,o,t=document.body;return document.createElement&&t&&t.appendChild&&t.removeChild?(e=document.createElement("iframe"),o=!1,e.setAttribute("name","oo_test"),e.style.display="none",t.appendChild(e),o=!document.getElementsByName("oo_test")[0],t.removeChild(e),o):null}(),g=function(e,o,t,n){var i="width="+t,a="height="+n,r=window.open(e,o,i,a),s=window.setInterval(function(){r.closed!==!1&&(window.clearInterval(s),OOo.oo_feedback.launchOOPopup())},200)},b=function(){return/MSIE\s/.test(navigator.userAgent)&&parseFloat(navigator.appVersion.split("MSIE")[1])<10};o(OOo,{extend:o,toQueryString:i,addEventListener:t,$:e,appendOOForm:r,removeEventListener:n,createMetrics:s,truncateMetric:p,createLegacyVars:c,DYNAMIC_FRAME_NAME_IS_BUGGY:v,getFormParams:a,referrerRewrite:d,hidePrompt:u,getPrompt:m,showPrompt:w,hideWaypoint:l,getWaypoint:O,showWaypoint:h,getEntryPrompt:f,showEntryPrompt:y,exitChat:g,checkIfIE9orBelow:b})}(),function(){function e(o){if(!o)return null;switch(typeof o){case"number":case"boolean":case"function":return o;case"string":return'"'+o+'"';case"object":var t,n,i,a;if(o.constructor===Array||"undefined"!=typeof o.callee){for(t="[",i=o.length,n=0;i-1>n;n+=1)t+=e(o[n])+",";t+=e(o[n])+"]"}else{t="{";for(a in o)o.hasOwnProperty(a)&&(t+=a+":"+e(o[a])+",");t=t.replace(/\,$/,"")+"}"}return t;default:return null}}OOo.extend(OOo,{serialize:e})}(),function(){function e(e,o,t){var n;return-1!==e.search(o[0])?(OOo.createCookie(t,0),!1):OOo.readCookie(t)?(n=parseInt(OOo.readCookie(t),10),-1!==e.search(o[n+1])&&n+1!==o.length-1?(OOo.createCookie(t,n+1),!1):-1!==e.search(o[n])?!1:n+1===o.length-1&&-1!==e.search(o.pop())?(OOo.eraseCookie(t),!0):(OOo.eraseCookie(t),!1)):!1}OOo.extend(OOo,{checkTunnel:e})}(),function(){function e(e){var o,t="";for(o=7;o>=0;o-=1)t+="0123456789abcdef".charAt(e>>4*o&15);return t}function o(e){var o,t=(e.length+8>>6)+1,n=new Array(16*t);for(o=0;16*t>o;o+=1)n[o]=0;for(o=0;o<e.length;o+=1)n[o>>2]|=e.charCodeAt(o)<<24-o%4*8;return n[o>>2]|=128<<24-o%4*8,n[16*t-1]=8*e.length,n}function t(e,o){var t=(65535&e)+(65535&o),n=(e>>16)+(o>>16)+(t>>16);return n<<16|65535&t}function n(e,o){return e<<o|e>>>32-o}function i(e,o,t,n){return 20>e?o&t|~o&n:40>e?o^t^n:60>e?o&t|o&n|t&n:o^t^n}function a(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function r(r){var s,p,c,d,l,O,h,u,m=o(r),w=new Array(80),f=1732584193,y=-271733879,v=-1732584194,g=271733878,b=-1009589776;for(h=0;h<m.length;h+=16){for(s=f,p=y,c=v,d=g,l=b,u=0;80>u;u+=1)16>u?w[u]=m[h+u]:w[u]=n(w[u-3]^w[u-8]^w[u-14]^w[u-16],1),O=t(t(n(f,5),i(u,y,v,g)),t(t(b,w[u]),a(u))),b=g,g=v,v=n(y,30),y=f,f=O;f=t(f,s),y=t(y,p),v=t(v,c),g=t(g,d),b=t(b,l)}return e(f)+e(y)+e(v)+e(g)+e(b)}OOo.extend(OOo,{sha1:r})}(),function(){function e(e,o){o||(o=location);var t=e.cookieName||"oo_abandon",n=OOo.readCookie(t),i=e.startPage,a=e.endPage,r=e.middle;return n?-1!==o.pathname.indexOf(a)?(OOo.eraseCookie(t),!1):-1!==o.pathname.search(r)?!1:(OOo.eraseCookie(t),!0):(-1!==o.pathname.indexOf(i)&&OOo.createCookie(t),!1)}OOo.extend(OOo,{checkAbandonment:e})}(),function(){function e(e){var o,t;for(o=e.length-1;o>=0;o-=1)if(e[o].read){if(t=OOo.readCookie(e[o].name),t&&t===e[o].value)return!0;if("undefined"==typeof e[o].value&&OOo.readCookie(e[o].name))return!0}return!1}function o(e){var o;for(o=e.length-1;o>=0;o-=1)e[o].set&&OOo.createCookie(e[o].name,e[o].value,e[o].expiration)}OOo.extend(OOo,{checkThirdPartyCookies:e,setThirdPartyCookies:o})}(),OOo.extend(Function.prototype,function(){function e(e,o){for(var t=e.length,n=o.length;n;)n-=1,e[t+n]=o[n];return e}function o(o,t){return o=n.call(o,0),e(o,t)}function t(e){if(arguments.length<2&&"undefined"==typeof e)return this;var t=this,i=n.call(arguments,1);return function(){var n=o(i,arguments);return t.apply(e,n)}}if("undefined"==typeof Function.prototype.bind){var n=Array.prototype.slice;return{bind:t}}}()),function(){function e(e){e||(e=location);var o;if(-1!==e.host.search(/\.[a-z]+/)){if(o=e.host.split(".").reverse(),o.length>3)return e.host;o="."+o[1]+"."+o[0]}else o=e.host;return o}function o(o,t,n){var i="",a="";n&&(i=new Date,i.setTime(i.getTime()+1e3*n),a="; expires="+i.toGMTString()),location.host!==e()?document.cookie=o+"="+t+a+"; path=/; domain="+e()+";":document.cookie=o+"="+t+a+"; path=/;"}function t(e){var o,t,n=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t+=1){for(o=i[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}function n(e){o(e,"",-1)}OOo.extend(OOo,{getCookieDomain:e,createCookie:o,readCookie:t,eraseCookie:n})}(),OOo.Ocode=function(e){var o,t=OOo.Browser;e.disableMobile&&t.isMobile||e.disableNoniOS&&t.isMobileNonIOS||(OOo.instanceCount+=1,this.options={tealeafCookieName:"TLTSID"},OOo.extend(this.options,e),o=this.options,o.metrics=OOo.createMetrics(),this.frameName=o.onPageCard?"OnlineOpinion"+OOo.instanceCount:"OnlineOpinion",o.cookie&&OOo.Ocode.matchUrl(o.cookie,location)||o.thirdPartyCookies&&OOo.checkThirdPartyCookies(o.thirdPartyCookies)||(!o.abandonment||OOo.checkAbandonment(o.abandonment))&&(!o.tunnel||OOo.checkTunnel(location.pathname,o.tunnel.path,o.tunnel.cookieName))&&(o.events&&o.events.onSingleClick&&(this.singProbability=Math.random()<1-o.events.onSingleClick/100),o.tealeafId=OOo.readCookie(o.tealeafCookieName)||OOo.readCookie(o.sessionCookieName),o.events&&(this.setupEvents(),(o.events.disableLinks||o.events.disableFormElements)&&this.setupDisableElements()),o.floating?this.floating():o.bar?this.bar():o.tab&&this.tab()))},OOo.Ocode.prototype={show:function(e,o){var t=e||window.event;if("exit"!==o&&"entry"!==o&&"onSingleClick"!==o&&(t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1),!this.onPageCardVisible){var n,i=this.options;if(i.events&&i.events.prompt&&(i.cookie&&OOo.eraseCookie(i.cookie.name||"oo_r"),OOo.hidePrompt(t)),!this.interruptShow&&(this.floatingLogo||!i.cookie||!OOo.Ocode.matchUrl(i.cookie))&&(i.floating||!i.events||!this.singProbability)){if(i.events&&i.events.onSingleClick&&(this.singProbability=!0),i.cookie&&OOo.Ocode.tagUrl(i.cookie),i.thirdPartyCookies){if(OOo.checkThirdPartyCookies(i.thirdPartyCookies))return;OOo.setThirdPartyCookies(i.thirdPartyCookies)}if(this.floatingLogo&&this.floatingLogo.children[0].blur(),this.floatingLogo&&i.disappearOnClick&&(this.floatingLogo.style.display="none"),"function"==typeof window.ClickTale){i.clickTalePID||(i.clickTalePID=window.ClickTaleGetPID()||null),i.clickTaleUID=window.ClickTaleGetUID()||null,i.clickTaleSID=window.ClickTaleGetSID()||null;var a=function(e){if("https://secure.opinionlab.com"===e.origin&&"function"==typeof window.ClickTaleEvent&&""!==e.data){var o=JSON.parse(e.data),t=window.ClickTaleEvent;for(var n in o)t(n+":"+o[n])}};OOo.addEventListener(window,"message",a,!1)}i.onPageCard&&!OOo.Browser.isMobile?this.setupOnPageCC():this.launchOOPopup(),n=i.floating||i.tab||i.bar,n&&"function"==typeof n.onClickCallback&&n.onClickCallback()}}}},OOo.extend(OOo.Ocode,{tagUrl:function(e,o){o||(o=location);var t=e.name||"oo_r",n="page"===e.type?o.href:o.hostname,i=OOo.readCookie(t)||"";OOo.Ocode.matchUrl(e,o)||OOo.createCookie(t,i+OOo.sha1(n),e.expiration)},matchUrl:function(e,o){o||(o=location);var t,n=OOo.readCookie(e.name||"oo_r");return n?(t="page"===e.type?o.href:o.hostname,-1!==n.search(OOo.sha1(t))):!1}}),function(){function e(){var e,t,n=this.options,i=n.newWindowSize||[545,325],a=[parseInt((n.metrics.height-i[1])/2,10),parseInt((n.metrics.width-i[0])/2,10)],r="resizable=yes,location=no,status=no,scrollbars=1,width="+i[0]+",height="+i[1]+",top="+a[0]+",left="+a[1],s="OnlineOpinion";n.newWindow&&(s+=o++),n.metrics.time2=(new Date).getTime(),n.metrics.type="Popup",e=OOo.appendOOForm(n,s);var p="https://secure.opinionlab.com/ccc01/comment_card_d.asp?"+e.children[0].value;n.commentCardUrl&&(p=n.commentCardUrl+"?"+e.children[0].value),OOo.Browser.isChromeIOS&&(s="_0"),OOo.Browser.isMobile&&-1!==OOo.Browser.ua.search("Android")?e.submit():(t=window.open(p,s,r),t&&!OOo.Browser.isChromeIOS&&e.submit())}var o=0;OOo.extend(OOo.Ocode.prototype,{launchOOPopup:e})}(),function(){function e(){var e,o,t,n,i=this.options.events,a=[!1,!1],r=["onExit","onEntry"],s="beforeunload";for(OOo.Browser.Opera&&(s="unload"),OOo.Browser.iOs&&(s="pagehide"),i.prompt&&OOo.extend(this.options,{promptMarkup:i.prompt.promptMarkup,neverShowAgainButton:!1,pathToAssets:i.prompt.pathToAssets}),o=r.length-1;o>=0;o-=1)if(e=r[o],i[e]instanceof Array)for(t=i[e],n=t.length;n&&!a[o];)n-=1,-1!==window.location.href.search(t[n].url)&&Math.random()>=1-t[n].p/100&&(a[o]=!0);else i[e]&&Math.random()>=1-i[e]/100&&(a[o]=!0);a[0]&&OOo.addEventListener(window,s,function(e){var o=e||window.event;this.show(o,"exit")}.bind(this),!1),a[1]&&(i.delayEntry?window.setTimeout(function(e){var o=e||window.event;i.prompt?this.getEntryPrompt():this.show(o,"entry")}.bind(this),1e3*i.delayEntry):i.prompt?this.getEntryPrompt():function(e){var o=e||window.event;this.show(o,"entry")}.bind(this)())}function o(e){for(var o=(e||window.event,e.target||e.srcElement),t=this.options.events,n=o.parentNode,i=5,a=0;n&&("A"!==o.nodeName||"INPUT"!==o.nodeName)&&a!==i;)"A"===n.nodeName&&(o=n),n=n.parentNode,a+=1;!t.disableFormElements||"INPUT"!==o.tagName&&"BUTTON"!==o.tagName||"submit"!==o.type&&"image"!==o.type&&"reset"!==o.type&&"button"!==o.type||(this.interruptShow=!0),!t.disableLinks||"A"!==o.nodeName&&"AREA"!==o.nodeName||"http"!==o.href.substr(0,4)||-1===o.href.search(t.disableLinks)||(this.interruptShow=!0)}function t(e){this.interruptShow=!0}function n(){if(OOo.addEventListener(document.body,"mousedown",o.bind(this)),this.options.events.disableFormElements){var e,n=document.getElementsByTagName("form");for(e=n.length-1;e>=0;e-=1)OOo.addEventListener(n[e],"submit",t.bind(this))}}OOo.extend(OOo.Ocode.prototype,{setupEvents:e,setupDisableElements:n,getEntryPrompt:function(){OOo.getEntryPrompt.call(this)},showEntryPrompt:function(e){this.options.cookie&&OOo.Ocode.tagUrl(this.options.cookie),OOo.showEntryPrompt.call(this,e,this.show)}})}(),OOo.extend(OOo.Ocode.prototype,{floating:function(){function e(e){return e.offsetLeft+e.offsetWidth}function o(o){n.style.left=e(h)+"px"}var t,n,i,a,r=document,s=this.floatingLogo=document.createElement("div"),p=r.createElement("div"),c=r.createElement("div"),d=r.createElement("div"),l=r.createElement("span"),O=this.options.floating,h=OOo.$(O.contentId),u="10px",m=O.id,w=r.createElement("span"),f=this.options.mobileTouches||2,y=0;if(w.innerHTML="Screen reader users: Please switch to forms mode for this link.",w.className="screen_reader",m&&(s.id=m),s.className="oo_feedback_float",c.className="oo_transparent",p.className="olUp",d.className="olOver",p.tabIndex=0,p.onkeyup=function(e){t=e||window.event,13===t.keyCode&&this.show(t)}.bind(this),p.innerHTML=O.caption||"Feedback",s.appendChild(w),s.appendChild(p),l.innerHTML=O.hoverCaption||"Click here to<br>rate this page",d.appendChild(l),s.appendChild(d),s.appendChild(c),O.position&&O.position.search(/Content/)&&h){switch(n=this.spacer=r.createElement("div"),i=OOo.Browser.WebKit?r.body:r.documentElement,n.id="oo_feedback_fl_spacer",n.style.left=e(h)+"px",r.body.appendChild(n),O.position){case"rightOfContent":a=function(o){s.style.left=e(h)-i.scrollLeft+"px"};break;case"fixedPreserveContent":a=function(o){var t=OOo.Browser.IE?r.body.clientWidth:window.innerWidth,n=i.scrollLeft;t<=e(h)+s.offsetWidth+parseInt(u,10)?s.style.left=e(h)-n+"px":(s.style.left="",s.style.right=u)};break;case"fixedContentMax":a=function(o){var t=OOo.Browser.IE?r.body.clientWidth:window.innerWidth;t<=e(h)+s.offsetWidth+parseInt(u,10)?(s.style.left="",s.style.right=u):(s.style.left=e(h)-i.scrollLeft+"px",s.style.right="")}}window.setTimeout(a,0),OOo.addEventListener(window,"scroll",a,!1),OOo.addEventListener(window,"resize",a,!1),OOo.addEventListener(window,"resize",o,!1)}else s.style.right=u;!this.options.disableShow==!0?(s.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}.bind(this),OOo.Browser.isMobile&&"ontouchstart"in window?(s.ontouchstart=function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,y++}.bind(this),s.ontouchend=function(e){var o=e||window.event;y>=f&&(this.show(o),y=0)}.bind(this)):s.onclick=function(e){var o=e||window.event;this.show(o)}.bind(this)):OOo.appendWaypointMobile(s,f),r.body.appendChild(s)},removeFloatingLogo:function(){document.body.removeChild(this.floatingLogo),this.spacer&&document.body.removeChild(this.spacer)}}),OOo.extend(OOo.Ocode.prototype,{bar:function(){function e(e){var o=0,t=0;if(e.offsetParent){do o+=e.offsetLeft,t+=e.offsetTop;while(e==e.offsetParent);return[o,t]}}function o(o){var t,i=document.activeElement;i&&(t=e(i),t&&t[1]+i.clientHeight>(window.innerHeight||document.body.clientHeight)+(window.pageYOffset||document.body.scrollTop)-n.clientHeight&&(-1!==navigator.appVersion.indexOf("MSIE 7.")?window.scrollBy(0,0):window.scrollBy(0,i.clientHeight+20)))}var t=document,n=this.floatingLogo=t.createElement("a"),i=(t.documentElement.scrollTop||t.body.scrollTop,t.createElement("span")),a=this.options,r=this.options.mobileTouches||2,s=0,p=t.createElement("span");i.innerHTML="Launches comment card in new window",i.className="screen_reader",p.className="icon",this.reflowBar=OOo.K,n.id="oo_bar",n.href="#",n.innerHTML=a.bar.caption||"Feedback",n.appendChild(i),n.appendChild(p),"number"==typeof a.tabIndex?n.tabIndex=a.tabIndex:n.tabIndex=0,!this.options.disableShow==!0?(n.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}.bind(this),OOo.Browser.isMobile&&"ontouchstart"in window?(n.ontouchstart=function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,s++}.bind(this),n.ontouchend=function(e){var o=e||window.event;s>=r&&(this.show(o),s=0)}.bind(this)):n.onclick=function(e){var o=e||window.event;this.show(o)}.bind(this)):OOo.appendWaypointMobile(n,r),document.body.className+=document.body.className<1?"oo_bar":" oo_bar",document.body.appendChild(n),OOo.addEventListener(document.body,"keyup",o,!1)}}),OOo.extend(OOo.Ocode.prototype,{tab:function(){var e=document,o=this.floatingLogo=e.createElement("div"),t=e.createElement("span"),n=(e.createElement("div"),e.createElement("span"),this.options.tab),i=(e.createElement("a"),"Feedback"),a=n.tabType,r="right",s=this.options.mobileTouches||2,p=0,c=0,d=OOo.readCookie("oo_tab_extend"),l=2592e3;switch(a){case 1:var O=e.createElement("span");o=this.floatingLogo=e.createElement("a"),t=e.createElement("span"),o.href="#",o.id="oo_tab_"+a,n.position&&(r=n.position),n.extendEveryPage&&(c=n.extendEveryPage),n.extendExpiration&&(l=n.extendExpiration),o.className=tabClass="oo_tab_"+r+"_"+a,t.className="screen_reader",O.className="icon","number"==typeof n.tabIndex?o.tabIndex=n.tabIndex:o.tabIndex=0,n.verbiage&&(i=n.verbiage),o.innerHTML=i,t.innerHTML="Launches comment card in new window",o.appendChild(t),o.appendChild(O),1==c?setTimeout(function(){o.className+=" small"},2500):"prevent"===d?o.className+=" small":(OOo.createCookie("oo_tab_extend","prevent",l),setTimeout(function(){o.className+=" small"},2500));break;default:o=this.floatingLogo=e.createElement("a"),o.id="oo_tab",o.className="oo_tab_"+(n.position||r),o.href="#",(!document.addEventListener||OOo.checkIfIE9orBelow())&&(o.className+=" oo_legacy"),n.wcagBasePath&&(o.className+=" wcag");var h=document.createElement("img");n.iconPath?h.setAttribute("src",n.iconPath+"oo_tab_icon_retina.gif"):h.setAttribute("src","/onlineopinionV5/oo_tab_icon_retina.gif"),h.setAttribute("alt",""),n.verbiage&&(i=n.verbiage);var u=document.createTextNode(i);o.appendChild(h),o.appendChild(u),t&&(t.className="screen_reader",t.innerHTML=" Will open a new window",o.appendChild(t))}!this.options.disableShow==!0?(o.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}.bind(this),OOo.Browser.isMobile&&"ontouchstart"in window?(o.ontouchstart=function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,p++}.bind(this),o.ontouchend=function(e){var o=e||window.event;p>=s&&(this.show(o),p=0)}.bind(this)):o.onclick=function(e){var o=e||window.event;this.show(o)}.bind(this)):OOo.appendWaypointMobile(o,s),e.body.appendChild(o)}}),OOo.extend(OOo.Ocode.prototype,{setupOnPageCC:function(){function e(e){return e&&e.preventDefault&&e.preventDefault(),document.body.focus(),h.tabIndex=-1,h.title="empty",h["aria-hidden"]="true",s.style.display="none",s.className="",r.body.removeChild(p),window.postMessage?OOo.removeEventListener(window,"message",n):window.clearInterval(t),f=!1,y.onPageCardVisible=!1,!1}var o,t,n,i,a,r=document,s=OOo.Cache.overlay||r.createElement("div"),p=this.wrapper=r.createElement("div"),c=r.createElement("a"),d=r.createElement("div"),l=r.createElement("span"),O=this.frameName,h=r.createElement(OOo.DYNAMIC_FRAME_NAME_IS_BUGGY?'<iframe name="'+O+'">':"iframe"),u=r.createDocumentFragment(),m=this.options,w=m.onPageCard,f=!1,y=this,v=r.createElement("span");n=OOo.Ocode.postMessageHandler(function(t){var n,i,c=parseInt(t,10);if(c>0){if(f)return;f=!0,n=window.innerHeight||r.documentElement.clientHeight||r.body.clientHeight,i=c,a=p.offsetTop,i+a>n&&(i=n-40-a),h.style.width="555px",d.style.width="555px",h.style.height=i+"px",p.style.visibility="visible",l.clientHeight<20&&(l.style.height=p.offsetHeight+"px"),s.className="no_loading",y.onPageCardVisible=!0,o&&r.body.removeChild(o)}else"submitted"===t&&e();OOo.Browser.IE&&"BackCompat"===r.compatMode&&window.scrollTo(0,0)},y.options.commentCardUrl),m.metrics.type="OnPage",OOo.Cache.overlay=s,s.id="oo_overlay",s.style.display="block",s.className="",d.className="iwrapper",p.className="oo_cc_wrapper",p.setAttribute("role","alert"),p.setAttribute("aria-describedby","comment_card_description"),v.className="screen_reader",v.id="comment_card_description",v.innerHTML="Please leave your feedback in the comment card you just activated",p.appendChild(v),c.className="oo_cc_close",c.innerHTML='<span class="screen_reader">Close dialog</span><span aria-hidden="true">&#10006;</span>',c.title=m.closeTitle?m.closeTitle:"Close dialog",
r.addEventListener||(d.style.outline="1px solid #cdcdcd"),p.style.visibility="hidden",c.tabIndex=0,c.onkeyup=function(o){var t=o||window.event;13===t.keyCode&&e()},OOo.Browser.IE&&(h.frameBorder="0",window.XMLHttpRequest&&"BackCompat"!==r.compatMode||(i=Math.max(r.documentElement.clientWidth,r.body.offsetWidth),s.style.position="absolute",s.style.width="BackCompat"===r.compatMode?i-21+"px":i+"px",s.style.height=Math.max(r.documentElement.clientHeight,r.body.offsetHeight)+"px",p.style.position="absolute",OOo.addEventListener(window,"scroll",function(){s.style.top=r.body.scrollTop+document.body.clientHeight-s.clientHeight+"px",p.style.top=r.body.scrollTop+a+25+"px"}))),OOo.addEventListener(c,"click",e),w.closeWithOverlay&&!OOo.Browser.isMobile&&(p.appendChild(l),l.onclick=e,s.onclick=e),h.src=" ",h.name=O,h.title="Comment Card",d.appendChild(c),d.appendChild(h),p.appendChild(d),u.appendChild(p),u.appendChild(s),r.body.appendChild(u),window.postMessage?OOo.addEventListener(window,"message",n):t=setInterval(n,500),m.metrics.time2=(new Date).getTime(),o=OOo.appendOOForm(m,O),o.submit()}}),OOo.extend(OOo.Ocode,{postMessageHandler:function(e,o,t){return function(n){var i,a="https://secure.opinionlab.com";return t||(t=location),n&&n.origin!==a&&0===n.origin.indexOf(o)||!n&&-1===t.hash.search("OL=")?!1:(i=n?n.data:t.hash.split("=").pop(),!n&&location.hash&&(location.hash=""),e(i),i)}}}),OOo.Invitation=function(e){this.options={tunnelCookie:"oo_inv_tunnel",repromptTime:604800,responseRate:50,repromptCookie:"oo_inv_reprompt",promptMarkup:"oo_inv_prompt.html",promptStyles:"oo_inverstitial_style.css",percentageCookie:"oo_inv_percent",pagesHitCookie:"oo_inv_hit",popupType:"popunder",promptDelay:0,neverShowAgainButton:!1,loadPopupInBackground:!1,truncatePrevCurrentMetrics:!1,disablePrevCurrentMetrics:!1,tealeafCookieName:"TLTSID",monitorWindow:"oo_inv_monitor.html",companySlogan:"We value your opinion",beforePrompt:OOo.K,callBacks:{prompt:"",yesClick:"",noClick:"",closeClick:""},inviteMarkup:"<div id='oo_invitation_prompt' role='dialog' aria-describedby='oo_invite_message'><div id='oo_invitation_company_logo'></div><div id='oo_invite_content'><p id='oo_invite_message'>After your visit, would you be willing to provide some quick feedback?<br /><br />(It will only take a minute)</p><p class='prompt_button'><a href='#' id='oo_launch_prompt'>Yes<span class='screen_reader'>This will open a new window</span></a></p><p class='prompt_button'><a href='#' id='oo_no_thanks'>No Thanks</a></p><p id='ol_invitation_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialog</div><span aria-hidden='true'>&#10006;</span></a></div><!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_invitation_prompt #oo_invite_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]-->",skipInvitePrompt:!1},this.popupShown=!1,OOo.extend(this.options,e);var o=this.options,t=parseInt(OOo.readCookie(o.pagesHitCookie),10)||0;OOo.Invitation.friendlyDomains=o.friendlyDomains||null;var n={weight:Number(OOo.readCookie("oo_OODynamicRewrite_weight")),searchPattern:OOo.readCookie("oo_OODynamicRewrite_searchPattern"),replacePattern:OOo.readCookie("oo_OODynamicRewrite_replacePattern")};if(OOo.eraseCookie("oo_OODynamicRewrite_weight"),OOo.eraseCookie("oo_OODynamicRewrite_searchPattern"),OOo.eraseCookie("oo_OODynamicRewrite_replacePattern"),(!window.OOoDynamicRewrite||window.OOoDynamicRewrite.weight<n.weight)&&(window.OOoDynamicRewrite=n),window.OOoDynamicRewrite&&"number"==typeof window.OOoDynamicRewrite.weight&&!isNaN(window.OOoDynamicRewrite.weight)&&(OOo.createCookie("oo_OODynamicRewrite_weight",window.OOoDynamicRewrite.weight),window.OOoDynamicRewrite.searchPattern&&OOo.createCookie("oo_OODynamicRewrite_searchPattern",window.OOoDynamicRewrite.searchPattern),window.OOoDynamicRewrite.replacePattern&&OOo.createCookie("oo_OODynamicRewrite_replacePattern",window.OOoDynamicRewrite.replacePattern)),(-1!==location.search.search("evs")||"yes"===OOo.readCookie("oo_evs_friendly"))&&(OOo.eraseCookie("oo_evs_friendly"),o.loadPopupInBackground=!0,this.launchPopup(),OOo.createCookie(o.repromptCookie,1,-1===o.repromptTime?0:o.repromptTime)),setTimeout(function(){window.oo_inv_monitor&&(o.area&&-1===location.href.search(o.area)?(this.options.popupType="popup",this.launchPopup()):o.goal&&-1!==location.href.search(o.goal)&&window.oo_inv_monitor.close())}.bind(this),1600),!(OOo.readCookie(o.repromptCookie)||o.thirdPartyCookies&&OOo.checkThirdPartyCookies(o.thirdPartyCookies))){if(OOo.readCookie(o.percentageCookie)||OOo.createCookie(o.percentageCookie,Math.random()>1-o.responseRate/100?"1":"0"),"undefined"!=typeof o.promptTrigger)if(o.promptTrigger instanceof RegExp){if(!window.location.href.match(o.promptTrigger))return}else if(o.promptTrigger instanceof Array&&!OOo.checkTunnel(location.pathname,o.promptTrigger,o.tunnelCookie))return;t+=1,OOo.createCookie(o.pagesHitCookie,t),o.pagesHit&&t<o.pagesHit||(OOo.eraseCookie(o.tunnelCookie),"1"===OOo.readCookie(o.percentageCookie)&&window.setTimeout(function(){OOo.createCookie(o.repromptCookie,1,o.repromptTime),this.options.beforePrompt(),this.getPrompt()}.bind(this),1e3*o.promptDelay))}},OOo.Invitation.notifyFriendlyLocationChange=function(e){window.oo_inv_monitor&&OOo.createCookie("oo_evs_friendly","yes")},OOo.Invitation.prototype={getPrompt:function(){OOo.getPrompt.call(this)},showPrompt:function(e){this.options.skipInvitePrompt?this.launchPopup():OOo.showPrompt.call(this,e,this.launchPopup)},launchPopup:function(e){if(!this.popupShown){this.popupShown=!0;var o=e||window.event;"undefined"!=typeof o&&(o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1);var t,n,i,a=this.options,r=(window.location.href,"popup"===a.popupType?"https://secure.opinionlab.com/ccc01/comment_card.asp?":a.pathToAssets+a.monitorWindow+"?time1="+(new Date).getTime()+"&"),s=a.asm?[555,500]:OOo.Browser.Chrome?[400,400]:[400,350],p=OOo.createMetrics(),c=OOo.readCookie(a.tealeafCookieName);(a.clickTalePID&&window.ClickTaleGetUID&&window.ClickTaleGetSID||window.ClickTaleGetPID&&window.ClickTaleGetUID&&window.ClickTaleGetSID)&&(c+="|"+[a.clickTalePID||window.ClickTaleGetPID(),window.ClickTaleGetUID(),window.ClickTaleGetSID()].join("/")),s=a.newWindowSize||s,i="scrollbars=1,resizable=1,location=no,status=no,width="+s[0]+",height="+s[1],a.referrerRewrite&&(p.referer=OOo.referrerRewrite(a.referrerRewrite)),a.truncatePrevCurrentMetrics&&(p.prev=OOo.truncateMetric(p.prev),p.currentURL=OOo.truncateMetric(p.currentURL)),a.disablePrevCurrentMetrics&&(p.prev="",p.currentURL=""),a.thirdPartyCookies&&OOo.setThirdPartyCookies(a.thirdPartyCookies),t=OOo.toQueryString(p)+"&type=Invitation",a.customVariables&&(t+="&customVars="+encodeURIComponent(OOo.serialize(a.customVariables))),t+="&custom_var="+OOo.createLegacyVars(a.legacyVariables,c),a.asm&&(t+="&asm=2",i+=",scrollbars=1"),r+=t,2===r.match(/\?/g).length&&(r=r.replace(/\?([^?]*)$/,"&$1")),this.popup=n=window.open(r,"OnlineOpinionInvitation",i),!a.loadPopupInBackground&&OOo.$("oo_container")&&OOo.hidePrompt(o)}},killPrompt:function(e){var o=e||window.event;this.options.callBacks&&"function"==typeof this.options.callBacks.noClick&&this.options.callBacks.noClick(),OOo.createCookie(this.options.repromptCookie,1,15768e4),OOo.hidePrompt(o)}},OOo.extend(OOo.Invitation,{navigateToFriendlyDomain:function(e){location.href=e}}),OOo.Waypoint=function(e){var o=OOo.Browser;if(!(e.disableMobile&&o.isMobile||e.disableNoniOS&&o.isMobileNonIOS)){this.options={pathToAssets:"/onlineopinionV5/",waypointMarkup:"oo_waypoint.html",companySlogan:"Give us feedback",companyLogo:"waypoint_logo.png",linkFocus:!0,categories:{website:{tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Website"},store:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://store."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Store"},product:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://product."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Product"},other:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://other."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Other"}},wpmarkup:"<div id='oo_waypoint_prompt' role='dialogue' aria-describedby='oo_waypoint_message'><div id='oo_waypoint_company_logo'></div><div id='oo_waypoint_content'><p id='oo_waypoint_message'>Select a category</p><p id='waypoint_icons'></p><p id='ol_waypoint_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_waypoint_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialogue</div><span aria-hidden='true'>&#10006;</span></a></div><!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_waypoint_prompt #oo_waypoint_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]-->"},OOo.extend(this.options,e);var t=this.options,n=t.categories;for(var i in n)if(n.hasOwnProperty(i)&&"object"==typeof t.categories[i].oCode){var a={};a[i]=new OOo.Ocode(n[i].oCode),OOo.extend(OOo.Waypoint,a)}OOo.extend(OOo.Waypoint,{getWaypoint:function(){this.getWaypoint()}.bind(this)})}},OOo.Waypoint.prototype={getWaypoint:function(){OOo.getWaypoint.call(this)},showWaypoint:function(e){OOo.showWaypoint.call(this,e)},killWaypoint:function(e){var o=e||window.event;OOo.hideWaypoint(o)}},OOo.extend(OOo,{appendWaypoint:function(e){var o=OOo.$(e);o&&(OOo.Browser.isMobile||(OOo.addEventListener(o,"click",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint()},!1),OOo.addEventListener(o,"keydown",function(e){var o=e||window.event;13===o.keyCode&&(o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint())},!1)))}}),OOo.extend(OOo,{appendWaypointMobile:function(e,o){var t=0,n=o||2;if("string"==typeof e)var e=OOo.$(e);e&&OOo.Browser.isMobile&&("ontouchstart"in window?(OOo.addEventListener(e,"touchstart",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,t++},!1),OOo.addEventListener(e,"touchend",function(e){e||window.event;t>=n&&(OOo.Waypoint.getWaypoint(),t=0)},!1)):OOo.addEventListener(e,"click",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint()},!1))}}),OOo}),function(e,o){"use strict";var t={CCSID:o.readCookie("CCSID")};o.oo_feedback=new o.Ocode({customVariables:t}),o.oo_launch=function(t,n){var i=t||e.event,a=o.readCookie("CBOLECM"),r="",s=o[n].options.customVariables;a&&(r=a.split("-")),r.length>31&&(s.isCitiPriority=r[31],s.PID=r[9],s.hasCD=r[12],s.hasChecking=r[13],s.hasCheckingPlus=r[14],s.hasCreditCard=r[15],s.hasMortgage=r[16],s.hasSavings=r[17],s.isBrokerage=r[18],s.isCitiblue=r[19],s.isCitigold=r[20],s.isBusinessCust=r[27],s.isBusinessOnly=r[28],s.isThankYou=r[26],s.isRELOnly=r[30]),o[n].show(i)}}(window,OOo);
